<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Videos</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<style>
html,body{margin:0;height:100%;background:#000;overflow:hidden;font-family:sans-serif}
.feed{height:100%;overflow-y:auto;scroll-snap-type:y mandatory}
.item{position:relative;height:100vh;scroll-snap-align:start}
video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;z-index:1}
.overlay{position:absolute;inset:0;z-index:5;color:#fff}
.right{
  position:absolute;right:10px;bottom:90px;
  display:flex;flex-direction:column;align-items:center;gap:16px
}
.avatar{
  width:48px;height:48px;border-radius:50%;
  border:2px solid #fff;background-size:cover;background-position:center
}
.left{
  position:absolute;left:10px;bottom:20px;font-size:12px
}
</style>
</head>

<body>
<div class="feed" id="feed"></div>

<script>
const data = JSON.parse(
  decodeURIComponent(new URLSearchParams(location.search).get("data")||"[]")
);
if(!data.length) location.href="index.html";

const feed=document.getElementById("feed");

data.forEach(d=>{
  const like=Math.floor(Math.random()*90000)+1000;
  const cmt=Math.floor(Math.random()*4000)+50;

  const item=document.createElement("div");
  item.className="item";
  item.innerHTML=`
    <video src="${d.src}" muted playsinline autoplay loop></video>
    <div class="overlay">
      <div class="right">
        <div class="avatar" style="background-image:url('${d.avatar}')"></div>
        ‚ù§Ô∏è ${like}<br>üí¨ ${cmt}
      </div>
      <div class="left">
        <b>${d.user}</b><br>
        Swipe up for more
      </div>
    </div>
  `;
  feed.appendChild(item);
});
</script>
</body>
</html>
