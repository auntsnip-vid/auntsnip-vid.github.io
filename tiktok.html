<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Video</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<style>
html,body{margin:0;height:100%;background:#000;overflow:hidden;font-family:sans-serif}
.item{position:relative;height:100vh}
video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}
.overlay{position:absolute;inset:0;z-index:5;color:#fff}
.right{
  position:absolute;right:10px;bottom:90px;
  display:flex;flex-direction:column;align-items:center;gap:16px
}
.avatar{
  width:48px;height:48px;border-radius:50%;
  border:2px solid #fff;background-size:cover;background-position:center
}
.left{
  position:absolute;left:10px;bottom:20px;font-size:12px
}
</style>
</head>

<body>

<div class="item">
  <video id="vid" muted playsinline autoplay loop></video>

  <div class="overlay">
    <div class="right">
      <div class="avatar" id="avatar"></div>
      ‚ù§Ô∏è <span id="like"></span><br>
      üí¨ <span id="cmt"></span>
    </div>

    <div class="left">
      <b id="user"></b><br>
      Swipe up for more
    </div>
  </div>
</div>

<script>
const qs = new URLSearchParams(location.search);
const video = qs.get("video");
const title = qs.get("title");
const avatar = qs.get("avatar");

if(!video || !title){
  location.href="index.html";
}

document.getElementById("vid").src = video;
document.getElementById("user").textContent = title;
document.getElementById("avatar").style.backgroundImage =
  "url('"+(avatar || video)+"')";

document.getElementById("like").textContent =
  (Math.floor(Math.random()*90000)+1000).toLocaleString();
document.getElementById("cmt").textContent =
  (Math.floor(Math.random()*4000)+50).toLocaleString();

// unmute on tap
document.body.addEventListener("click",()=>{
  document.getElementById("vid").muted=false;
},{once:true});
</script>

</body>
</html>
