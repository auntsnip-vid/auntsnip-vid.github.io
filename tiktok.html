<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Feed</title>
<style>
html,body{margin:0;height:100%;background:#000;overflow:hidden}
.feed{height:100%;overflow-y:scroll;scroll-snap-type:y mandatory}
.item{height:100%;position:relative;scroll-snap-align:start}
video{width:100%;height:100%;object-fit:cover}
.user{position:absolute;bottom:20px;left:12px;color:#fff}
.social{position:absolute;right:12px;bottom:90px;display:flex;
flex-direction:column;align-items:center;gap:18px;color:#fff;font-size:12px}
.social .avatar{width:48px;height:48px;border-radius:50%;
background-size:cover;background-position:center;border:2px solid #fff}
.social .btn{display:flex;flex-direction:column;align-items:center}
.social .icon{font-size:22px}
.social .count{font-size:11px;opacity:.85}
</style>
</head>
<body>
<div class="feed" id="feed"></div>
<script
  async="async"
  data-cfasync="false"
  src="https://situateddivine.com/d3e082d534e1581e0f78d3cfe456f0d9/invoke.js"
></script>
<div id="container-d3e082d534e1581e0f78d3cfe456f0d9"></div>
<script>
let data=[],start=0;
try{
 data=JSON.parse(localStorage.getItem("VIDEO_LIST"))||[];
 start=parseInt(localStorage.getItem("START_INDEX"))||0;
}catch(e){location.href="index.html";}
if(!data.length)location.href="index.html";
const ordered=[...data.slice(start),...data.slice(0,start)];
const feed=document.getElementById("feed");
ordered.forEach(v=>{
 const likes=Math.floor(Math.random()*9000)+1000;
 const c=Math.floor(Math.random()*4000)+300;
 const d=document.createElement("div");
 d.className="item";
 d.innerHTML=`
 <video src="${v.src}" muted autoplay loop playsinline></video>
 <div class="social">
  <div class="avatar" style="background-image:url('${v.avatar}')"></div>
  <div class="btn"><div class="icon">â™¥</div><div class="count">${likes}</div></div>
  <div class="btn"><div class="icon">ðŸ’¬</div><div class="count">${c}</div></div>
 </div>
 <div class="user">${v.user}</div>`;
 feed.appendChild(d);
});
const vids=[...document.querySelectorAll("video")];
function playVisible(){
 vids.forEach(v=>{
  const r=v.getBoundingClientRect();
  if(r.top>=0&&r.bottom<=innerHeight+20)v.play();else v.pause();
 });
}
feed.addEventListener("scroll",playVisible);
playVisible();
</script>

<script
  type="text/javascript"
  src="https://situateddivine.com/b8/1f/13/b81f134cc26510fc67813f6dca90178f.js"
></script>


</body>
</html>
